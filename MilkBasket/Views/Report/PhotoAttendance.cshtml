
@{
    ViewData["Title"] = "PhotoAttendance";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

<script src="https://cdn.tailwindcss.com"></script>


<div class="w-full  min-h-screen" id="bdy">
    <div class="mx-auto bg-white shadow rounded-lg p-6">

        <!-- Header -->
       
            <h1 class="text-2xl font-bold text-gray-800">Photo Attendance</h1>

          
     




          
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          
                <div>
                <label for="Date" class="block text-sm font-medium text-gray-700">
                    Date
                </label>
                <input type="date" id="Date" value="@DateTime.Now.ToString("yyyy-MM-dd")" class="mt-1 w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2" required />
          
                </div>
                <div>

                <button class="bg-blue-600 hover:bg-blue-700 mt-2 text-white font-semibold py-2 px-4 rounded shadow" onclick="ShowEmployeeAttendence()">View</button>
                        <button onclick="exportexcel1('Photo Attendance')" class="bg-blue-600 mt-2 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow">
                           Export To Excel
                        </button>
                </div>
            </div>


        <input type="text" Id="filterInput" class="md:w-[30%] sm:w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2" placeholder="Search Here ..." />

           <div class="overflow-auto border rounded">
    <table id="data-table" class="min-w-full text-sm text-center border border-black table-auto">
        <thead >
            <tr>
                <th class="px-2 py-2 border">S.No</th>
                <th class="px-2 py-2 border">Employee No</th>
                <th class="px-2 py-2 border">Employee Name</th>
                <th class="px-2 py-2 border">Shift Details</th>
                <th class="px-2 py-2 border">Cluster Name</th>
                <th class="px-2 py-2 border">Society Name</th>
                <th class="px-2 py-2 border">Status</th>
                <th class="px-2 py-2 border">Date</th>
                <th class="px-2 py-2 border">Time</th>
                <th class="px-2 py-2 border">Latitude</th>
                <th class="px-2 py-2 border">Longitude</th>
                <th class="px-2 py-2 border">Location Name</th>
                <th class="px-2 py-2 border">Employee Image</th>
            </tr>
        </thead>
        <tbody id="tbodydata" class="bg-white divide-y divide-gray-200">
            <!-- Rows will be dynamically added here -->
        </tbody>
    </table>
</div>

          <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document" style="width: fit-content;margin-top: 90px;">
                    <div class="modal-content" style="margin: 0 auto;">
                        <div class="modal-header">
                            <button onclick="rotateImage()" class="btn btn-primary">Rotate</button>
                            <button type="button" onclick="resetImageRotation()" class="close" data-bs-dismiss="modal" aria-bs-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <img class="modal-content" style="width: 404px;height: 380px;" id="img01">
                        </div>

                    </div>
                </div>
            </div>


            <div id="loaderOverlay" class="position-fixed top-0 start-0 w-100 h-100 bg-white bg-opacity-75 d-flex justify-content-center align-items-center d-none" style="z-index: 1055; display: none;">
                <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>


            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

            <script src="~/js/Master.js"></script>
            <script src="~/js/Reports/PhotoAttendence.js" asp-append-version="true"></script>
            <script>

                $(document).ready(() => {

                    DownloadFormat("ClusterExcelfrommat");
                })

            </script>


